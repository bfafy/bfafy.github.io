<!DOCTYPE html>
<html>
  <head>
    <title>在线双人小游戏</title>
  </head>
  <body>
    <h1>在线双人小游戏</h1>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script>
      // 创建 WebSocket 连接
      const socket = new WebSocket('ws://localhost:8080');

      // 监听连接打开事件
      socket.addEventListener('open', () => {
        console.log('Connected to server');
      });

      // 监听消息事件
      socket.addEventListener('message', event => {
        console.log(`Received message: ${event.data}`);
        // 处理消息并更新游戏状态
      });

      // 监听错误事件
      socket.addEventListener('error', error => {
        console.error(`WebSocket error: ${error}`);
      });

      // 监听连接关闭事件
      socket.addEventListener('close', () => {
        console.log('Disconnected from server');
      });

      // 在 Canvas 中绘制游戏图形
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      context.fillStyle = 'red';
      context.fillRect(50, 50, 50, 50);
    </script>
  </body>
</html>
